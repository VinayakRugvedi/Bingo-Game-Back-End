(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(t,e,a){t.exports=a(78)},38:function(t,e,a){},40:function(t,e,a){},43:function(t,e,a){},46:function(t,e,a){},75:function(t,e){},78:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(32),s=a.n(o),i=(a(38),a(9)),l=a(10),u=a(12),c=a(11),d=a(13),m=a(1),y=(a(40),a(43),function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(u.a)(this,Object(c.a)(e).call(this,t))).assignValue=a.assignValue.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"assignValue",value:function(){this.props.square.value||this.props.updateSquareValue(this.props.square.position)}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{style:{backgroundColor:this.props.square.color},className:"squareContainer",title:this.props.square.value?"Click to mark this number":"Click to assign a number",onClick:this.props.square.value&&this.props.boardSet?function(){!t.props.square.marked&&t.props.myTurn&&t.props.talkToServer(t.props.square.position)}:this.assignValue},n.a.createElement("div",{className:"valueHolder"},this.props.square.value?this.props.square.value:""))}}]),e}(n.a.Component));a(46);var v=function(t){return n.a.createElement("div",{className:"modalWindowBG"},n.a.createElement("div",{className:"modalWindowContent"},n.a.createElement("div",{className:"content"},n.a.createElement("p",null,t.modalData.heading),n.a.createElement("p",null,t.modalData.description),n.a.createElement("button",{onClick:t.startGameAgain},"Play Again!"))))},h=a(18),p=a.n(h);var f=function(t){t.socket.on("sendRoomName",function(e){console.log(e.roomName),t.setState({myRoom:e.roomName})}),t.socket.on("playerAvailable",function(e){console.log(e),t.setState({playerAvailable:!0})}),t.socket.on("update",function(e){var a,r=t.state.squares,n=t.state.status,o=!0,s=!1,i=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.value===e.value){c.color="#f67e7d",c.marked=!0,a=c.position;break}}}catch(j){s=!0,i=j}finally{try{o||null==u.return||u.return()}finally{if(s)throw i}}n.cols[a%5]-=1,n.rows[Math.floor(a/5)]-=1,12===a?(n.diags[0]-=1,n.diags[1]-=1):a%6===0?n.diags[0]-=1:a%4===0&&(n.diags[1]-=1);var d=0,m=!0,y=!1,v=void 0;try{for(var h,p=n.rows[Symbol.iterator]();!(m=(h=p.next()).done);m=!0)0===h.value&&d++}catch(j){y=!0,v=j}finally{try{m||null==p.return||p.return()}finally{if(y)throw v}}var f=!0,b=!1,S=void 0;try{for(var k,g=n.cols[Symbol.iterator]();!(f=(k=g.next()).done);f=!0)0===k.value&&d++}catch(j){b=!0,S=j}finally{try{f||null==g.return||g.return()}finally{if(b)throw S}}var w=!0,q=!1,O=void 0;try{for(var T,E=n.diags[Symbol.iterator]();!(w=(T=E.next()).done);w=!0)0===T.value&&d++}catch(j){q=!0,O=j}finally{try{w||null==E.return||E.return()}finally{if(q)throw O}}d>=5?(t.socket.emit("winner"),t.setState({modalWindow:{display:!0,heading:"Congratulations!",description:"Finally, you have won the game..."}})):t.setState({squares:r,myTurn:!0,status:n})}),t.socket.on("lost",function(){t.setState({modalWindow:{display:!0,heading:"Disappointment",description:"You lost, better luck next time..."}})}),t.socket.on("playerDisconnected",function(){t.setState({modalWindow:{display:!0,heading:"OOPS!",description:"Looks like the other player has left"}})})},b=function(t){function e(){var t;return Object(i.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this))).updateSquareValue=function(e){var a=t.state.squares;a[e].value=t.state.valueGenerator,25===t.state.valueGenerator?(t.socket=p.a.connect("https://play-bingo.herokuapp.com/"),f(Object(m.a)(Object(m.a)(t))),t.setState({valueGenerator:t.state.valueGenerator+1,squares:a,buttonSet:""})):t.setState({valueGenerator:t.state.valueGenerator+1,squares:a})},t.talkToServer=function(e){var a=t.state.squares,r=t.state.status;a[e].color="#f67e7d",a[e].marked=!0,r.cols[e%5]-=1,r.rows[Math.floor(e/5)]-=1,12===e?(r.diags[0]-=1,r.diags[1]-=1):e%6===0?r.diags[0]-=1:e%4===0&&(r.diags[1]-=1);var n=0,o=!0,s=!1,i=void 0;try{for(var l,u=r.rows[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){0===l.value&&n++}}catch(k){s=!0,i=k}finally{try{o||null==u.return||u.return()}finally{if(s)throw i}}var c=!0,d=!1,m=void 0;try{for(var y,v=r.cols[Symbol.iterator]();!(c=(y=v.next()).done);c=!0){0===y.value&&n++}}catch(k){d=!0,m=k}finally{try{c||null==v.return||v.return()}finally{if(d)throw m}}var h=!0,p=!1,f=void 0;try{for(var b,S=r.diags[Symbol.iterator]();!(h=(b=S.next()).done);h=!0){0===b.value&&n++}}catch(k){p=!0,f=k}finally{try{h||null==S.return||S.return()}finally{if(p)throw f}}n>=5?(t.socket.emit("winner"),t.setState({modalWindow:{display:!0,heading:"Congratulations!",description:"Finally, you have won the game..."}})):(t.socket.emit("myValue",a[e].value,t.state.myRoom),t.setState({squares:a,myTurn:!1,status:r}))},t.state={valueGenerator:1,squares:new Array(25).fill().map(function(t,e){return{value:0,color:"#00a8b5",marked:!1,position:e}}),boardSet:!1,myTurn:!1,buttonSet:"none",myRoom:"",playerAvailable:!1,status:{rows:[5,5,5,5,5],cols:[5,5,5,5,5],diags:[5,5]},modalWindow:{display:"none",heading:"",description:""}},t.readyToPlay=t.readyToPlay.bind(Object(m.a)(Object(m.a)(t))),t.setTheBoard=t.setTheBoard.bind(Object(m.a)(Object(m.a)(t))),t.startGameAgain=t.startGameAgain.bind(Object(m.a)(Object(m.a)(t))),t}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.initialState=JSON.parse(JSON.stringify(this.state))}},{key:"setTheBoard",value:function(){for(var t=[],e=25,a=[],r=1;r<26;r++)t[r-1]=r;for(;0!==t.length;){var n=Math.floor(Math.random()*e);a.push(t[n]),t.splice(n,1),e--}var o=this.state.squares,s=!0,i=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){u.value.value=a[e++]}}catch(d){i=!0,l=d}finally{try{s||null==c.return||c.return()}finally{if(i)throw l}}this.socket=p.a.connect("https://play-bingo.herokuapp.com/"),f(this),this.setState({valueGenerator:26,squares:o,buttonSet:""})}},{key:"readyToPlay",value:function(){this.setState({boardSet:!0,buttonSet:"none",myTurn:!0})}},{key:"startGameAgain",value:function(){this.socket.id&&this.socket.close(),this.setState(JSON.parse(JSON.stringify(this.initialState)))}},{key:"renderSquares",value:function(){var t=this;return this.state.squares.map(function(e,a){return n.a.createElement(y,{key:a,updateSquareValue:function(e,a){return t.updateSquareValue(e,a)},talkToServer:function(e){return t.talkToServer(e)},square:e,myTurn:t.state.myTurn,boardSet:t.state.boardSet})})}},{key:"render",value:function(){var t=this.renderSquares();return n.a.createElement("div",{className:"gameContainer"},n.a.createElement("div",{className:"boardContainer"},t),n.a.createElement("div",{className:"checkpointButtons"},this.state.valueGenerator<=25?n.a.createElement("button",{className:"buttonBeforeBoardSet",onClick:this.setTheBoard},"Setup your Board or click here to set it up!"):this.state.playerAvailable?this.state.boardSet?this.state.myTurn?n.a.createElement("span",{className:"myTurnButton"},"Your turn dude!"):n.a.createElement("span",{className:"myTurnButton"},"Wait for your turn..."):n.a.createElement("button",{className:"buttonAfterBoardSet",style:{display:this.state.buttonSet},onClick:this.readyToPlay},"Click here & Start your Game!"):n.a.createElement("span",{className:"buttonWaiting"},"Waiting for a player...")),n.a.createElement("div",{style:{display:this.state.modalWindow.display}},n.a.createElement(v,{modalData:this.state.modalWindow,startGameAgain:this.startGameAgain})))}}]),e}(n.a.Component);s.a.render(n.a.createElement(b,null),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.4c793830.chunk.js.map